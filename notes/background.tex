%\section{Background \& Notation}\label{sec:background_notation}
An (abstract) \emph{simplicial complex} $K \subseteq \mathcal{P}(V)$ over a finite \emph{ordered} set $V = \{v_1, v_2, \dots, v_n \}$ is a collection of simplices $\{\sigma : \sigma \in \mathcal{P}(V) \}$ such that $\tau \subseteq \sigma \in K \implies \tau \in K$.
%The $p$-skeleton of $\mathrm{skel}_p(K)$ is the the restriction of $K$ to its simplices with dimension $\leq p$. 
We denote with $K^p = \{ \, \sigma \in K : \mathrm{dim}(\sigma) = p \, \}$ the $p$-simplices of $K$ and by $K^{(p)} = \{ \, \sigma \in K : \mathrm{dim}(\sigma) \leq p \, \}$ the $p$-skeleton of $K$. 
A \emph{filtration} $K_\bullet = \{K_i\}_{i\in I}$ of a simplicial complexes indexed by a totally ordered set $I$ is a family of complexes such that $i< j \in I \implies K_i \subseteq K_j$. $K_\bullet$ is called \emph{simplexwise} if $K_j \smallsetminus K_i = \{\sigma_j\}$ whenever $j$ is the immediate successor of $i$ in $I$ and \emph{essential} if $i \neq j$ implies $K_i \neq K_j$:
%Connecting a sequence of simplices $[\sigma_i]_{i=1, \dots, m}$ ordered increasingly by $f$ by inclusion yields such a family of complexes:
\begin{equation}
	\emptyset = K_0 \subsetneq K_1 \subsetneq \dots \subsetneq K_m  = K_\bullet, \quad K_i  = K_{i-1} \cup \{\sigma_i\}
\end{equation} 
Equivalently, we may at times define a filtration $K_\bullet$ as a pair $(K, f)$ where $f : K \to I$ is a \emph{filter function} over a totally ordered index set $I$ satisfying $f(\tau) \leq f(\sigma)$ whenever $\tau \subseteq \sigma$, for any $\tau,\sigma \in K$. Here, we consider two index sets: $[n] = \{ 1, \dots, n\}$ and $\mathbb{R}$. 
Note that any finite filtration may be trivially converted into an essential, simplexwise filtration via a set of \emph{condensing}, \emph{refining}, and \emph{reindexing} maps~\cite{bauer2021ripser}. For simplicity, but without loss of generality, we exclusively consider essential simplexwise filtrations and for brevity refer to them as filtrations.
%\\
%\\
%\noindent
%\textbf{Remark 1:}
%\normalfont In practice, filtrations often arise from triangulations parameterized by geometric scaling parameters. 
%%and references to the ``persistence'' of a given homology class are with respect to these parameterizations.
%For example, given a finite metric space $\mathcal{X} = (X, d_X)$, the \emph{Rips complex} at scale $\epsilon \in \mathbb{R}_{+}$ is defined as: 
%\begin{equation}
%	\mathrm{Rips_{\epsilon}}(\mathcal{X}) := \{ \sigma \subseteq X : d_X(x, x') \leq \epsilon \text{ for all } x, x' \in \sigma \} 
%\end{equation}
%\noindent Connecting successive complexes via inclusions $\mathrm{Rips_{\epsilon}}(\mathcal{X}) \hookrightarrow \mathrm{Rips_{\epsilon'}}(\mathcal{X})$ for $\epsilon < \epsilon'$ yields a family of complexes $\mathrm{Rips}_{\alpha} := \{ \, \mathrm{Rips}_\epsilon(\mathcal{X}) \, \}_{\epsilon \leq \alpha}$ called the \emph{Rips filtration}. 
%We keep the notation general by letting $K_\bullet$ denote any filtration. 
\\
\\
%As in equation~\eqref{eq:hom_map}, these inclusions induce linear maps at level of homology. Though we consider primarily Rips filtrations in this effort, we will at times keep the notation simple and general by letting $K_\bullet$ denote any simplicial filtration. 
Given a simplicial complex $K \subseteq \mathcal{P}(V)$ and a strictly increasing subset $\sigma = \{v_1, v_2, \dots, v_{p+1}\} \subseteq V$ satisfying $v_1 < v_2 < \dots < v_{p+1}$, an \emph{oriented $p$-simplex} $[\sigma] = [v_1, v_2, \dots, v_{p+1}]$ is defined as: 
\begin{equation}\label{eq:oriented_simplex}
	[\sigma] = (-1)^{\lvert \pi \rvert } \left [v_{\pi(1)}, v_{\pi(2)}, \dots, v_{\pi(p+1)} \right ]
\end{equation}
where $\pi$ is a permutation on $[\,p+1\,]$ and $\lvert \pi \rvert$ is the number of inversions of that permutation. The $p$-boundary $\partial_p$ of an oriented $p$-simplex $[\sigma] \in K$ is defined as the alternating sum of its oriented co-dimension 1 faces:
\begin{equation}\label{eq:alt_sum}
	\partial_p[\sigma] := \sum_{i=1}^{p+1} (-1)^{i-1} [v_1, \dots, v_{i-1}, v_{i+1}, \dots v_{p+1}]
\end{equation}
The concepts of boundaries and orientation generalizes beyond simplices. Given a field $\mathbb{F}$, an \emph{oriented $p$-chain} is a formal $\mathbb{F}$-linear combination of oriented $p$-simplices of $K$, the collection on which under addition yields an $\mathbb{F}$-vector space denoted $C_p(K)$.
In particular, given a $p$-chain $c \in C_p(K)$, $\partial_p[c]$ is defined linearly in terms of its constitutive simplices. Elements $c \in \partial_p[c']$ are called \emph{boundaries} unless $\partial_p[c] = 0$, in which case they are called \emph{cycles}.
%We assume every $p$-chain is \emph{oriented} such that $K$ is an \emph{oriented simplicial complex}.
 Together, the collection of $p$-boundaries and $p$-cycles forms the groups $B_p(K) = \mathrm{Im}\,\partial_{p+1}$ and $Z_p(K) = \mathrm{Ker}\,\partial_p$, respectively. Since $\partial_p \circ \partial_{p+1} = 0$ for all $p\geq 0$, the quotient space $H_p(K) = Z_p(K) / B_{p}(K)$ is a well-defined group called the \emph{$p$-th homology group of $K$} with coefficients in $\mathbb{F}$. The dimension of the $p$-th homology group $\beta_p(K) = \mathrm{dim}(H_p(K))$ of $K$ is called the \emph{$p$-th Betti number} of $K$. 

Let $K_\bullet = \{K_i\}_{i\in [N]}$ denote a filtration of size $\lvert K_\bullet \rvert = N$, 
%let $\Delta_{+} = \{ (i,j) : i < j, i, j \in \mathbb{R} \}$ denote the upper half-plane, 
and let $\Delta_{+}^N = \{ (i,j) : 0 \leq i \leq j \leq N \}$ denote the set of filtration index pairs. 
For every such pair $(i,j) \in \Delta_{+}^N$, the sequence of inclusions $K_i \subsetneq K_{i+1} \subsetneq \dots \subsetneq K_j$ induce linear transformations $h_p^{i,j} :  H_p(K_i) \to H_p(K_j)$ at the level of homology:
\begin{equation}\label{eq:hom_map}
	0 = H_p(K_0) \to \dots \to H_p(K_i) \underbracket[0.5pt]{\to \dots \to}_{h_p^{i,j}} H_p(K_j) \to \dots \to H_p(K_N) = H_p(K_\bullet) 
\end{equation}
When $\mathbb{F}$ is a field, this sequence of homology groups uniquely decomposes $K_\bullet$ into a pairing of simplices $(\sigma_i, \sigma_j)$ demarcating the evolution of homology classes~\cite{zomorodian2004computing}: $\sigma_i$ marks the creation of a homology class, $\sigma_j$ marks its destruction, and the difference $\lvert i - j \rvert$ records the lifetime of the class, called its \emph{persistence}.
The $p$-th persistent homology groups are the images of these transformations and the $p$-th persistent Betti numbers are their dimensions:
\begin{equation}
	H_{p}^{i,j} = \begin{cases}
	H(K_i) & i = j \\ 
 	\mathrm{Im}\,h_p^{i,j} & i < j
 \end{cases}
, \quad \quad 
\beta_p^{i,j} = \begin{cases}
 	\beta_p(K_i) & i = j \\
 	\mathrm{dim}(H_{p}^{i,j}) & i < j
 \end{cases}
\end{equation}
For a fixed $p \geq 0$, the collection of persistent pairs $(i, j)$ together with unpaired simplices $(l, \infty)$ form a summary representation $\mathrm{dgm}_p(K_\bullet)$ called the \emph{$p$-th persistence diagram of $K_\bullet$}. Conceptually, $\beta_p^{i,j}$ counts the number of persistent pairs lying inside the box $(-\infty, i\,] \times (\,j, \infty)$ (see Figure~\ref{fig:mult})---the number of persistent homology groups born at or before $i$ that died sometime after $j$. 



%\begin{remark}
%\end{remark}
%Although the persistence diagram $\mathrm{dgm}_p(K_\bullet)$ characterizes elements of $H_p^{i,j}$, one may define $\mathrm{dgm}_p(K_\bullet)$ through $\beta_p^{i,j}$ alone. To see this, let $f: K \to \mathbb{R}$ be a tame function and $(\tau_i)$
%\begin{definition}
%The $p$-th persistence diagram $dgm_p(f) \subset \bar{\mathbb{R}}^2$ of a filtration induced by $f$ is the set of points $(a_i,a_j)$ drawn on the plane with non-zero multiplicity $\mu_p^{i,j}$, where: 
%  $$\mu_p^{i,j} = \left(\beta_p^{i,j\shortminus1} - \beta_p^{i,j} \right) - \left(\beta_p^{i\shortminus1,j\shortminus1} - \beta_p^{i\shortminus1,j} \right) \quad\quad \text{for } 0 < i < j \leq n+ 1 $$
%\end{definition}

%\begin{definition}[Persistence diagram]
%	Given a finite filtration $K_\bullet$ of , the $p$-th persistence diagram for some $p \geq 0$ is the set of points $(i,j)$ counted with multiplicity $\mu_p^{i,j}$ for all $0 < i < j < m+1$, union all the points on the diagonal, counted with infinite .  
%\end{definition}


%Note that if $i = j$, then $H_{p}^{i,j} = H_{p}(K_i) = H_{p}(K_i)$ is   just the ``standard'' homology. 
% Simplices whose inclusion in the filtration creates a new homology class are called \emph{creators}, and simplices that destroy homology classes are   called \emph{destroyers}. 
% The filtration indices of these creators/destroyers are referred to as \emph{birth} and \emph{death} times, respectively. 
%The collection of birth/death pairs $(i,j)$ is denoted $\mathrm{dgm}_p(K)$, and referred to as the $p$-th \emph{persistence diagram} of $K$.
%If a homology class is born at time $i$ and dies entering time $j$, the difference $\lvert i - j \rvert$ is called the \emph{persistence} of that class.
